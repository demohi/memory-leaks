<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<article class="article-content">
  <div itemprop="articleBody">



    <h1>Example 4</h1>

    <h1>Example 4: Detached nodes</h1>

    <p>Watch nodes evolution in memory timeline</p>

    <p>Take heap snapshots and find detached nodes</p>

    <p><button onclick="createDetachedNodes()">Create detached nodes</button></p>

    <p><button onclick="cleanNodes()">Clean detached nodes</button></p>
    <script>
      'use strict';

      var frags = [];

      function createFrag() {
        var i, frag, div, buf;
        frag = document.createDocumentFragment();
        for (i = 0; i < 50; i++) {
          div = document.createElement('div');
          buf = document.createTextNode(i + ' - ' + new Date().toTimeString());
          div.appendChild(buf);
          frag.appendChild(div);
        }
        frags.push(frag);
      }

      function createDetachedNodes() {
        var i;
        for (i = 0; i < 10; i++) {
          createFrag();
        }
      }

      function cleanNodes() {
        frags.length = 0;
      }
    </script>

    <hr>




  </div>
</article>
</body>
</html>
